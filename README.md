# Prog3 - Image Restoration

- **Class:** CSC 442, Introduction to Image Processing
- **Professor:** Dr. John Weiss
- **Meeting Time &amp; Place:** 9:00 am M-W-F in McLaury 305
- **Authors:** Derek Stotz, Dan Andrus (QtImageLib by Dr. John Weiss)
- **Last Modified:** Apr 26, 2015
- **Compiling:** Run `qmake` to build makefile, then `make` to compile program.
- **Usage:** prog3

## Details
The purpose of this assignment was to implement many of the image
restoration techniques described in class.  Since the GUI elements
were provided by Qt and QtImageLib, the only code we had to implement
was for modifying the images themselves.  Each function of ours was passed
a QtImageLib image, which acted as a 2 dimensional vector of pixel
information.  We were able to then apply our transformations and filters to
the image data.  Generally, we would use a fourier transform to move the image
into the frequency domain, then filter the information (or add noise) before
transforming it back through a reverse fourier transform.

We split our work roughly in half.  The restoration filters were all put under a single
menu, while the noise and smoothing functions were given their own menu.


## Recommended Usage
Simply open an image using the open icon and modify it using the functions
found under the two menus.  To reset the image, press the back arrow in the
image window.

## Known Issues and Limitations

### Forward and Inverse Fourier Transforms
Working with an image in the frequency domain, take extra care to only work with one single image at a time. Due to limitations with Qt, our application can only operate on a single image that has been run through the Fourier transform. We've taken steps to avoid applying frequency-domain operations to an image in the spatial domain, but these steps are limited and can be circumvented, resulting in undesired side effects.

To properly operate on an image using the interactive tools provided, please be sure to follow these exact steps. Again, please *do not attempt to operate on the frequency data of two separate images at the same time!*

1. Open the image you wish to operate on.
2. Choose `Transform > Fourier Transform` from the menu to view the image's
  representation in the frequency domain.
3. Select the interactive operation button you wish to perform, or choose a 
  specified filter or noise option from the menu above.
4. Repeat step 3 until you have performed all of the frequency-domain
  operations you wish.
5. Choose `Transform > Inverse Fourier Transform` from the menu to convert
  the modified image back to the spatial domain.

Please remember to only operate on a single image in the frequency domain at any given time. Not doing so could result in unexpected results. If choosing `Fourier Transform` from the menu does not transform an image, it means that the application has frequency data stored from a previous session that must be cleared. To do so, select `Inverse Fourier Transform` from the menu to clear the frequency data. This will replace the image you currently have selected with the image you were working on previously. You can use Qt's "restore" function to undo the operation.

### Non-Square Images
Due to the implementation of the Fast Fourier Transform in this application, our application is restricted to only operating on the frequency data of square images whose dimensions are powers of 2. Attempting to operate on any image that is not square or whose dimensions are not powers of 2 will result in the application crashing without warning. Please keep this in mind before using our application.

### Ghosting / Frequency Domain Corruption
Occasionally when running an image through the Fourier Transform, you will see strange discolorations when viewing the frequency domain representation of the image. This is a bug that is beyond our control, as we are simply calling the display function provided to us. That said, the issue is purely visual in nature and does not affect the frequency data generated by the Fourier Transform. Any frequency operations performed on an image that has discoloration in the frequency representation will appear as expected once converted back to the spatial domain.

If you are experiencing severe discoloration, closing the application and relaunching it seems to temporarily solve the issue. Also, repeatedly applying the forward and inverse Fourier Transforms to an image may eventually remove the discoloration for a period of time.

### Undo / Redo
Qt supplies undo/redo functionality that is common among GUI interfaces. However, due to the nature of our application, we recommend never using these features, as they rarely result in what you expect. For example, applying the Fourier Transform to an image and clicking "undo" will only undo the frequency domain representation that replaces the transformed image but does not clear the frequency data from the application's memory. Thus, the application still believes that it is operating in the frequency domain and will behave as such, which could result in unexpected results. Please take care when using the undo/redo functions of Qt.
